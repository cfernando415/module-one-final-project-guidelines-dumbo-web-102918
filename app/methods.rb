require 'pry'
require_all 'app'

def login_page
  system("clear")

  puts '
  $$$$$$$$\ $$\           $$\                                 $$$$$$$$\ $$\           $$\
  $$  _____|\__|          $$ |                                $$  _____|\__|          $$ |
  $$ |      $$\  $$$$$$$\ $$$$$$$\   $$$$$$\   $$$$$$\        $$ |      $$\  $$$$$$$\ $$$$$$$\
  $$$$$\    $$ |$$  _____|$$  __$$\ $$  __$$\ $$  __$$\       $$$$$\    $$ |$$  _____|$$  __$$\
  $$  __|   $$ |\$$$$$$\  $$ |  $$ |$$$$$$$$ |$$ |  \__|      $$  __|   $$ |\$$$$$$\  $$ |  $$ |
  $$ |      $$ | \____$$\ $$ |  $$ |$$   ____|$$ |            $$ |      $$ | \____$$\ $$ |  $$ |
  $$ |      $$ |$$$$$$$  |$$ |  $$ |\$$$$$$$\ $$ |            $$ |      $$ |$$$$$$$  |$$ |  $$ |
  \__|      \__|\_______/ \__|  \__| \_______|\__|            \__|      \__|\_______/ \__|  \__|

                                                                                               '
  prompt = TTY::Prompt.new
  input = prompt.select("Are you a new or returning fisherman?", %w(New Returning Exit))
  if input == "New"
    main_menu(Fisherman.create_user)
  elsif input == "Returning"
    main_menu(Fisherman.login)
  elsif input == "Exit"
    exit
  end
end



def main_menu(arg)
  system("clear")
  prompt = TTY::Prompt.new
  input = prompt.select("What do you wanna do, #{arg.first_name}?") do |menu|
    menu.choice name: 'Play Game'
    menu.choice name: 'View Basket'
    menu.choice name: 'View Encyclopedia'
    menu.choice name: 'Return to login'
  end
  if input == "Play Game"
    system("clear")
    puts '$$$$$$$\
$$  __$$\
$$ |  $$ | $$$$$$\   $$$$$$\   $$$$$$$\  $$$$$$$\        $$$$$$$\  $$$$$$\   $$$$$$\   $$$$$$$\  $$$$$$\
$$$$$$$  |$$  __$$\ $$  __$$\ $$  _____|$$  _____|      $$  _____|$$  __$$\  \____$$\ $$  _____|$$  __$$\
$$  ____/ $$ |  \__|$$$$$$$$ |\$$$$$$\  \$$$$$$\        \$$$$$$\  $$ /  $$ | $$$$$$$ |$$ /      $$$$$$$$ |
$$ |      $$ |      $$   ____| \____$$\  \____$$\        \____$$\ $$ |  $$ |$$  __$$ |$$ |      $$   ____|
$$ |      $$ |      \$$$$$$$\ $$$$$$$  |$$$$$$$  |      $$$$$$$  |$$$$$$$  |\$$$$$$$ |\$$$$$$$\ \$$$$$$$\
\__|      \__|       \_______|\_______/ \_______/       \_______/ $$  ____/  \_______| \_______| \_______|
                                                                  $$ |
              $$\                                                 $$ |
              $$ |                                                \__|
$$\  $$\  $$\ $$$$$$$\   $$$$$$\  $$$$$$$\        $$\   $$\  $$$$$$\  $$\   $$\
$$ | $$ | $$ |$$  __$$\ $$  __$$\ $$  __$$\       $$ |  $$ |$$  __$$\ $$ |  $$ |
$$ | $$ | $$ |$$ |  $$ |$$$$$$$$ |$$ |  $$ |      $$ |  $$ |$$ /  $$ |$$ |  $$ |
$$ | $$ | $$ |$$ |  $$ |$$   ____|$$ |  $$ |      $$ |  $$ |$$ |  $$ |$$ |  $$ |
\$$$$$\$$$$  |$$ |  $$ |\$$$$$$$\ $$ |  $$ |      \$$$$$$$ |\$$$$$$  |\$$$$$$  |
 \_____\____/ \__|  \__| \_______|\__|  \__|       \____$$ | \______/  \______/
                                                  $$\   $$ |
                                      $$\     $$\ \$$$$$$  |            $$\
                                      $$ |    $$ | \______/             $$ |
 $$$$$$$\  $$$$$$\   $$$$$$\        $$$$$$\   $$$$$$$\   $$$$$$\        $$ |
$$  _____|$$  __$$\ $$  __$$\       \_$$  _|  $$  __$$\ $$  __$$\       $$ |
\$$$$$$\  $$$$$$$$ |$$$$$$$$ |        $$ |    $$ |  $$ |$$$$$$$$ |      \__|
 \____$$\ $$   ____|$$   ____|        $$ |$$\ $$ |  $$ |$$   ____|
$$$$$$$  |\$$$$$$$\ \$$$$$$$\         \$$$$  |$$ |  $$ |\$$$$$$$\       $$\
\_______/  \_______| \_______|         \____/ \__|  \__| \_______|      \__|
  $$\                                         $$\               $$\
  $$ |                                        $$ |              $$ |
$$$$$$\    $$$$$$\         $$$$$$$\ $$$$$$\ $$$$$$\    $$$$$$$\ $$$$$$$\
\_$$  _|  $$  __$$\       $$  _____|\____$$\\_$$  _|  $$  _____|$$  __$$\
  $$ |    $$ /  $$ |      $$ /      $$$$$$$ | $$ |    $$ /      $$ |  $$ |
  $$ |$$\ $$ |  $$ |      $$ |     $$  __$$ | $$ |$$\ $$ |      $$ |  $$ |
  \$$$$  |\$$$$$$  |      \$$$$$$$\\$$$$$$$ | \$$$$  |\$$$$$$$\ $$ |  $$ |
   \____/  \______/        \_______|\_______|  \____/  \_______|\__|  \__|
                 $$$$$$\  $$\           $$\
                $$  __$$\ \__|          $$ |
 $$$$$$\        $$ /  \__|$$\  $$$$$$$\ $$$$$$$\
 \____$$\       $$$$\     $$ |$$  _____|$$  __$$\
 $$$$$$$ |      $$  _|    $$ |\$$$$$$\  $$ |  $$ |
$$  __$$ |      $$ |      $$ | \____$$\ $$ |  $$ |
\$$$$$$$ |      $$ |      $$ |$$$$$$$  |$$ |  $$ |
 \_______|      \__|      \__|\_______/ \__|  \__|


                                                                                                                '
                                                                                                                sleep(3)
    game(arg)
  elsif input == 'View Basket'
    arg.view_basket(arg)
  elsif input == 'View Encyclopedia'
    Fish.view_encyclopedia(arg)
  elsif input == 'Return to login'
    login_page
  end
end

def exit_program

end



def prompt_a(arg)
  # binding.pry
  prompt = TTY::Prompt.new
  input = prompt.select("What next?") do |menu|
    menu.choice name: "Back to Encyclopedia"
    menu.choice name: "Back to main menu"
  end
    if input == "Back to Encyclopedia"
      Fish.view_encyclopedia(arg)
    elsif input == "Back to main menu"
      main_menu(arg)
    end
  end
